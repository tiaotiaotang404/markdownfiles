

![image-20231004134640293](C:\Users\张云鑫\AppData\Roaming\Typora\typora-user-images\image-20231004134640293.png)

```fortran
.SUBCKT Two-stage-cap IS VDD VIN1 VIN2 VOUT1
*.PININFO IS:I VDD:I VIN1:I VIN2:I VOUT1:O
MNM4 VOUT1 P1 gnd! gnd! N_12_LPHVT W=4u L=107n M=1
MNM2 net14 net14 gnd! gnd! N_12_LPHVT W=4u L=200n M=1
MNM1 net15 net14 gnd! gnd! N_12_LPHVT W=4u L=200n M=1
MNM3 P1 P1 gnd! gnd! N_12_LPHVT W=4u L=200n M=1
MPM4 VOUT1 net15 VDD VDD P_12_LPHVT W=10u L=215n M=1
MPM3 net15 net15 VDD VDD P_12_LPHVT W=10u L=200n M=1
MPM2 P1 VIN2 IS VDD P_12_LPHVT W=18u L=50n M=1
MPM1 net14 VIN1 IS VDD P_12_LPHVT W=18u L=50n M=1
CC3 VOUT1 gnd! 1P $[CP]
.ENDS  
```

```fortran
*NMOS I-V Characteristic
.OPTIONS LIST NODE POST
.PROTECT
.lib "/home/PDK/UMK55FDKLPC00000OA_A10_PB/Models/Hspice/l55lp_mm_v0131.lib" tt_lp_hvt12
.UNPROTECT
.INCLUDE 'fivetubes.net'
X1 IS VDD VIN1 VIN2 VOUT1 Two-stage-cap
I1 VDD IS 200U  
VIN1 VIN1 0 2V
VIN2 VIN2 0 2V AC 500MV
VDD VDD 0 5
.OP
.ac dec 10 1k 200meg 
*.DC VIN 0 5 0.01
.PRINT AC VP(VOUT1) VDB(VOUT1)
*.PRINT dc V(VOUT1)
.END 

```

![image-20230926163256399](C:\Users\张云鑫\AppData\Roaming\Typora\typora-user-images\image-20230926163256399.png)


